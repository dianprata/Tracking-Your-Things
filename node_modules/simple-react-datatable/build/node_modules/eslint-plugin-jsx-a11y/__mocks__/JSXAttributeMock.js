'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = JSXAttributeMock;

var _toAst = require('to-ast');

var _toAst2 = _interopRequireDefault(_toAst);

var _JSXExpressionContainerMock = require('./JSXExpressionContainerMock');

var _JSXExpressionContainerMock2 = _interopRequireDefault(_JSXExpressionContainerMock);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function JSXAttributeMock(prop, value) {
  var isExpressionContainer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var astValue = void 0;
  if (value && value.type !== undefined) {
    astValue = value;
  } else {
    astValue = (0, _toAst2.default)(value);
  }
  var attributeValue = astValue;
  if (isExpressionContainer || astValue.type !== 'Literal') {
    attributeValue = (0, _JSXExpressionContainerMock2.default)(astValue);
  }

  return {
    type: 'JSXAttribute',
    name: {
      type: 'JSXIdentifier',
      name: prop
    },
    value: attributeValue
  };
} // eslint-disable-line import/no-extraneous-dependencies