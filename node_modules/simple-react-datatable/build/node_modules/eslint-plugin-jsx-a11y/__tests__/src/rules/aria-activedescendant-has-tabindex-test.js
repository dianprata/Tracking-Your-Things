'use strict';

var _eslint = require('eslint');

var _parserOptionsMapper = require('../../__util__/parserOptionsMapper');

var _parserOptionsMapper2 = _interopRequireDefault(_parserOptionsMapper);

var _ariaActivedescendantHasTabindex = require('../../../src/rules/aria-activedescendant-has-tabindex');

var _ariaActivedescendantHasTabindex2 = _interopRequireDefault(_ariaActivedescendantHasTabindex);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// -----------------------------------------------------------------------------
// Tests
// -----------------------------------------------------------------------------

var ruleTester = new _eslint.RuleTester(); /**
                                            * @fileoverview Enforce elements with aria-activedescendant are tabbable.
                                            * @author Jesse Beach <@jessebeach>
                                            */

// -----------------------------------------------------------------------------
// Requirements
// -----------------------------------------------------------------------------

var expectedError = {
  message: 'An element that manages focus with `aria-activedescendant` ' + 'must be tabbable',
  type: 'JSXOpeningElement'
};

ruleTester.run('aria-activedescendant-has-tabindex', _ariaActivedescendantHasTabindex2.default, {
  valid: [{
    code: '<CustomComponent />;'
  }, {
    code: '<CustomComponent aria-activedescendant={someID} />;'
  }, {
    code: '<CustomComponent aria-activedescendant={someID} tabIndex={0} />;'
  }, {
    code: '<CustomComponent aria-activedescendant={someID} tabIndex={-1} />;'
  }, {
    code: '<div />;'
  }, {
    code: '<input />;'
  }, {
    code: '<div tabIndex={0} />;'
  }, {
    code: '<div aria-activedescendant={someID} tabIndex={0} />;'
  }, {
    code: '<div aria-activedescendant={someID} tabIndex="0" />;'
  }, {
    code: '<div aria-activedescendant={someID} tabIndex={1} />;'
  }, {
    code: '<input aria-activedescendant={someID} />;'
  }, {
    code: '<input aria-activedescendant={someID} tabIndex={0} />;'
  }].map(_parserOptionsMapper2.default),
  invalid: [{
    code: '<div aria-activedescendant={someID} />;',
    errors: [expectedError]
  }, {
    code: '<div aria-activedescendant={someID} tabIndex={-1} />;',
    errors: [expectedError]
  }, {
    code: '<div aria-activedescendant={someID} tabIndex="-1" />;',
    errors: [expectedError]
  }, {
    code: '<input aria-activedescendant={someID} tabIndex={-1} />;',
    errors: [expectedError]
  }].map(_parserOptionsMapper2.default)
});