'use strict';

var _eslint = require('eslint');

var _parserOptionsMapper = require('../../__util__/parserOptionsMapper');

var _parserOptionsMapper2 = _interopRequireDefault(_parserOptionsMapper);

var _iframeHasTitle = require('../../../src/rules/iframe-has-title');

var _iframeHasTitle2 = _interopRequireDefault(_iframeHasTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// -----------------------------------------------------------------------------
// Tests
// -----------------------------------------------------------------------------

var ruleTester = new _eslint.RuleTester(); /* eslint-env jest */
/**
 * @fileoverview Enforce iframe elements have a title attribute.
 * @author Ethan Cohen
 */

// -----------------------------------------------------------------------------
// Requirements
// -----------------------------------------------------------------------------

var expectedError = {
  message: '<iframe> elements must have a unique title property.',
  type: 'JSXOpeningElement'
};

ruleTester.run('html-has-lang', _iframeHasTitle2.default, {
  valid: [{ code: '<div />;' }, { code: '<iframe title="Unique title" />' }, { code: '<iframe title={foo} />' }, { code: '<FooComponent />' }].map(_parserOptionsMapper2.default),
  invalid: [{ code: '<iframe />', errors: [expectedError] }, { code: '<iframe {...props} />', errors: [expectedError] }, { code: '<iframe title={undefined} />', errors: [expectedError] }, { code: '<iframe title="" />', errors: [expectedError] }, { code: '<iframe title={false} />', errors: [expectedError] }, { code: '<iframe title={true} />', errors: [expectedError] }, { code: "<iframe title={''} />", errors: [expectedError] }, { code: '<iframe title={``} />', errors: [expectedError] }, { code: '<iframe title={""} />', errors: [expectedError] }, { code: '<iframe title={42} />', errors: [expectedError] }].map(_parserOptionsMapper2.default)
});