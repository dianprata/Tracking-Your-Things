'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; /* eslint-env mocha */


var _fs = require('fs');

var _fs2 = _interopRequireDefault(_fs);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _assert = require('assert');

var _assert2 = _interopRequireDefault(_assert);

var _index = require('../../src/index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var src = _fs2.default.readdirSync(_path2.default.resolve(__dirname, '../../src')).filter(function (f) {
  return f.indexOf('.js') >= 0;
}).map(function (f) {
  return _path2.default.basename(f, '.js');
});

describe('main export', function () {
  it('should export an object', function () {
    var expected = 'object';
    var actual = typeof _index2.default === 'undefined' ? 'undefined' : _typeof(_index2.default);

    _assert2.default.equal(expected, actual);
  });

  src.filter(function (f) {
    return f !== 'index';
  }).forEach(function (f) {
    it('should export ' + f, function () {
      _assert2.default.equal(_index2.default[f], require(_path2.default.join('../../src/', f)).default // eslint-disable-line
      );
    });

    it('should export ' + f + ' from root', function () {
      var file = f + '.js';
      var expected = true;
      var actual = _fs2.default.statSync(_path2.default.join(_path2.default.resolve('.'), file)).isFile();

      _assert2.default.equal(expected, actual);
    });
  });
});